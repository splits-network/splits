/* @layer base; */

@import "tailwindcss";
/* @import '@splits-network/memphis-ui/dist/index.css'; */
@plugin "@splits-network/memphis-ui/plugin";

/* Cookie Consent Banner Animation */
@keyframes slide-up {
    from {
        transform: translateY(100%);
        opacity: 0;
    }

    to {
        transform: translateY(0);
        opacity: 1;
    }
}

.animate-slide-up {
    animation: slide-up 0.3s ease-out;
}

/* Ensure stat descriptions wrap text properly */
.stat-desc {
    white-space: normal;
    word-break: break-word;
}

/* ============================================
   Design System Tokens & Utilities
   ============================================ */


/* Expand/Collapse Animation */
@keyframes expand-down {
    from {
        opacity: 0;
        max-height: 0;
    }

    to {
        opacity: 1;
        max-height: 500px;
    }
}

@keyframes collapse-up {
    from {
        opacity: 1;
        max-height: 500px;
    }

    to {
        opacity: 0;
        max-height: 0;
    }
}

.animate-expand {
    animation: expand-down 0.3s ease-out forwards;
    overflow: hidden;
}

.animate-collapse {
    animation: collapse-up 0.2s ease-in forwards;
    overflow: hidden;
}

/* Fade In Animation */
@keyframes fade-in {
    from {
        opacity: 0;
    }

    to {
        opacity: 1;
    }
}

.animate-fade-in {
    animation: fade-in 0.2s ease-out;
}

/* Memphis markdown editor overrides */
.w-md-editor {
    --md-editor-background-color: var(--color-cream) !important;
    --md-editor-box-shadow-color: var(--color-dark) !important;
    box-shadow: 0 0 0 var(--border-interactive) var(--color-dark) !important;
    border-radius: 0 !important;
}

.w-md-editor-toolbar {
    border-radius: 0 !important;
    border-bottom-width: var(--border-detail) !important;
    border-bottom-color: var(--color-dark) !important;
}

.w-md-editor-content {
    border-radius: 0 !important;
}

/* Force markdown editor fullscreen to cover viewport */
.w-md-editor-fullscreen {
    height: 100vh !important;
    width: 100vw !important;
    position: fixed !important;
    top: 0 !important;
    left: 0 !important;
    z-index: 9999 !important;
}

/* Scale In Animation */
@keyframes scale-in {
    from {
        opacity: 0;
        transform: scale(0.95);
    }

    to {
        opacity: 1;
        transform: scale(1);
    }
}

.animate-scale-in {
    animation: scale-in 0.2s ease-out;
}

/* Sidebar: full height on mobile, below sticky header + banner on desktop */
.sidebar-positioned {
    top: 0;
    height: 100vh;
}

@media (min-width: 1024px) {
    .sidebar-positioned {
        top: calc(var(--header-h, 0px) + var(--banner-h, 0px));
        height: calc(100vh - var(--header-h, 0px) - var(--banner-h, 0px));
    }
}

/* Sidebar Active Indicator */
.sidebar-item-active {
    position: relative;
}

.sidebar-item-active::before {
    content: '';
    position: absolute;
    left: 0;
    top: 0;
    bottom: 0;
    width: 3px;
    background: oklch(var(--color-primary));
    border-radius: 0 2px 2px 0;
}

/* Gradient Text */
.text-gradient-primary {
    background: linear-gradient(135deg, oklch(var(--color-primary)) 0%, oklch(var(--color-secondary)) 100%);
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
    background-clip: text;
}

/* Badge Ribbon (for entity cards) */
.badge-ribbon {
    border-top-left-radius: 0;
    border-bottom-left-radius: 0;
    box-shadow: -2px 2px 4px rgb(0 0 0 / 0.1);
}

/* Smooth scrollbar for sidebars */
.scrollbar-thin {
    scrollbar-width: thin;
    scrollbar-color: oklch(var(--color-base-300)) transparent;
}

.scrollbar-thin::-webkit-scrollbar {
    width: 6px;
}

.scrollbar-thin::-webkit-scrollbar-track {
    background: transparent;
}

.scrollbar-thin::-webkit-scrollbar-thumb {
    background-color: oklch(var(--color-base-300));
    border-radius: 3px;
}

.scrollbar-thin::-webkit-scrollbar-thumb:hover {
    background-color: oklch(var(--color-base-content) / 0.3);
}


/* .expanded-row {
    animation: expand-down 0.3s ease-out;
} */

.expanded-row td {
    @apply border-t-4 border-coral border-b-0 bg-base-100;
}

.expanded-row td:first-child {
    @apply rounded-tl-lg;
}

.expanded-row td:last-child {
    @apply rounded-tr-lg;
}

.expanded-row-detail td {
    @apply bg-base-100 shadow-xl p-0 border-t-0;
}

.expanded-row-detail td:first-child {
    @apply rounded-bl-lg;
}

.expanded-row-detail td:last-child {
    @apply rounded-br-lg;
}